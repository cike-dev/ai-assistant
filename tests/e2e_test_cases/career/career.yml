test_cases:
  # Happy Path - Complete Career Advising Session
  - test_case: complete_career_advising_happy_path
    steps:
      - user: "I need career advice"
        assertions:
          - flow_started: "career_advice"
          - bot_uttered:
              utter_name: "utter_ask_student_name"
      
      - user: "My name is Sarah Johnson"
        assertions:
          - slot_was_set:
              - name: student_name
                value: "Sarah Johnson"
          - bot_uttered:
              utter_name: "utter_ask_current_major"

      - user: "I'm studying Computer Science"
        assertions:
          - slot_was_set:
              - name: current_major
                value: "Computer Science"
          - bot_uttered:
              utter_name: "utter_ask_year_of_study"
      
      - user: "I'm a junior"
        assertions:
          - slot_was_set:
              - name: year_of_study
                value: "junior"
          - bot_uttered:
              utter_name: "utter_ask_career_interest"
      
      - user: "I'm interested in software engineering and AI"
        assertions:
          - slot_was_set:
              - name: career_interest
                value: "software engineering and AI"
          - bot_uttered:
              utter_name: "utter_ask_gpa"
      
      - user: "My GPA is 3.7"
        assertions:
          - slot_was_set:
              - name: gpa
                value: "3.7"
          - bot_uttered:
              utter_name: "utter_ask_has_internship"
      
      - user: "Yes, I've had two internships"
        assertions:
          - slot_was_set:
              - name: has_internship
                value: true
          - action_executed: "action_give_career_advice"
          - flow_started: "followup_advice_flow"
          - bot_uttered:
              utter_name: "utter_ask_followup_question"
      
      - user: "What companies should I target?"
        assertions:
          - slot_was_set:
              - name: followup_question
                value: "What companies should I target?"
          - action_executed: "action_followup_career_advice"
          - flow_completed:
              flow_id: "followup_advice_flow"
          - bot_uttered:
              utter_name: "utter_ask_more_questions"
      
      - user: "No, that's all. Thank you!"
        assertions:
          - slot_was_set:
              - name: more_questions
                value: false
          - flow_completed:
              flow_id: "career_advice"
          - flow_started: "goodbye_flow"

  # User Provides All Information Upfront
  - test_case: all_information_at_once
    steps:
      - user: "Hi, I'm Alex Chen, a sophomore studying Biology, interested in medical research. My GPA is 3.9 and I have one internship."
        assertions:
          - flow_started: "career_advice"
          - slot_was_set:
              - name: student_name
                value: "Alex Chen"
              - name: year_of_study
                value: "sophomore"
              - name: current_major
                value: "Biology"
              - name: career_interest
                value: "medical research"
              - name: gpa
                value: "3.9"
              - name: has_internship
                value: true
          - action_executed: "action_give_career_advice"
          - flow_started: "followup_advice_flow"
          - bot_uttered:
              utter_name: "utter_ask_followup_question"

  # User Skips Optional GPA Field
  - test_case: skip_optional_gpa
    steps:
      - user: "I want career guidance"
        assertions:
          - flow_started: "career_advice"
          - bot_uttered:
              utter_name: "utter_ask_student_name"
      
      - user: "I'm Michael Brown"
        assertions:
          - slot_was_set:
              - name: student_name
                value: "Michael Brown"
          - bot_uttered:
              utter_name: "utter_ask_current_major"
      
      - user: "Marketing"
        assertions:
          - slot_was_set:
              - name: current_major
                value: "Marketing"
          - bot_uttered:
              utter_name: "utter_ask_year_of_study"
      
      - user: "Senior"
        assertions:
          - slot_was_set:
              - name: year_of_study
                value: "Senior"
          - bot_uttered:
              utter_name: "utter_ask_career_interest"
      
      - user: "Brand management and digital marketing"
        assertions:
          - slot_was_set:
              - name: career_interest
                value: "Brand management and digital marketing"
          - bot_uttered:
              utter_name: "utter_ask_gpa"
      
      - user: "I'd rather not say"
        assertions:
          - bot_uttered:
              utter_name: "utter_ask_has_internship"
      
      - user: "No internships yet"
        assertions:
          - slot_was_set:
              - name: has_internship
                value: false
          - action_executed: "action_give_career_advice"
          - flow_started: "followup_advice_flow"
          - bot_uttered:
              utter_name: "utter_ask_followup_question"

  # Multiple Follow-up Questions
  - test_case: multiple_followup_questions
    steps:
      - user: "I need help with my career path"
        assertions:
          - flow_started: "career_advice"
          - bot_uttered:
              utter_name: "utter_ask_student_name"
      
      - user: "Emma Davis, freshman, Psychology, interested in clinical psychology, 3.5 GPA, no internships"
        assertions:
          - slot_was_set:
              - name: student_name
                value: "Emma Davis"
              - name: year_of_study
                value: "freshman"
              - name: current_major
                value: "Psychology"
              - name: career_interest
                value: "clinical psychology"
              - name: gpa
                value: "3.5"
              - name: has_internship
                value: false
          - action_executed: "action_give_career_advice"
          - flow_started: "followup_advice_flow"
          - bot_uttered:
              utter_name: "utter_ask_followup_question"
      
      - user: "What courses should I take next semester?"
        assertions:
          - slot_was_set:
              - name: followup_question
                value: "What courses should I take next semester?"
          - action_executed: "action_followup_career_advice"
          - flow_completed:
              flow_id: "followup_advice_flow"
          - bot_uttered:
              utter_name: "utter_ask_more_questions"
      
      - user: "Yes, I have more questions"
        assertions:
          - slot_was_set:
              - name: more_questions
                value: true
          - flow_started: "followup_advice_flow"
          - bot_uttered:
              utter_name: "utter_ask_followup_question"
      
      - user: "How do I find research opportunities?"
        assertions:
          - slot_was_set:
              - name: followup_question
                value: "How do I find research opportunities?"
          - action_executed: "action_followup_career_advice"
          - flow_completed:
              flow_id: "followup_advice_flow"
          - bot_uttered:
              utter_name: "utter_ask_more_questions"
      
      - user: "One more thing please"
        assertions:
          - slot_was_set:
              - name: more_questions
                value: true
          - flow_started: "followup_advice_flow"
          - bot_uttered:
              utter_name: "utter_ask_followup_question"
      
      - user: "What's the typical timeline for grad school applications?"
        assertions:
          - slot_was_set:
              - name: followup_question
                value: "What's the typical timeline for grad school applications?"
          - action_executed: "action_followup_career_advice"
          - flow_completed:
              flow_id: "followup_advice_flow"
          - bot_uttered:
              utter_name: "utter_ask_more_questions"
      
      - user: "That's everything, thanks!"
        assertions:
          - slot_was_set:
              - name: more_questions
                value: false
          - flow_completed:
              flow_id: "career_advice"
          - flow_started: "goodbye_flow"

  # User Corrects Information Mid-Flow
  - test_case: user_corrects_information
    steps:
      - user: "I need career advice"
        assertions:
          - flow_started: "career_advice"
          - bot_uttered:
              utter_name: "utter_ask_student_name"
      
      - user: "James Wilson"
        assertions:
          - slot_was_set:
              - name: student_name
                value: "James Wilson"
          - bot_uttered:
              utter_name: "utter_ask_current_major"
      
      - user: "Engineering"
        assertions:
          - slot_was_set:
              - name: current_major
                value: "Engineering"
          - bot_uttered:
              utter_name: "utter_ask_year_of_study"
      
      - user: "Actually, Mechanical Engineering"
        assertions:
          - slot_was_set:
              - name: current_major
                value: "Mechanical Engineering"
      
      - user: "I'm a junior"
        assertions:
          - slot_was_set:
              - name: year_of_study
                value: "junior"
          - bot_uttered:
              utter_name: "utter_ask_career_interest"
      
      - user: "Renewable energy and sustainability"
        assertions:
          - slot_was_set:
              - name: career_interest
                value: "Renewable energy and sustainability"
          - bot_uttered:
              utter_name: "utter_ask_gpa"
      
      - user: "3.4"
        assertions:
          - slot_was_set:
              - name: gpa
                value: "3.4"
          - bot_uttered:
              utter_name: "utter_ask_has_internship"
      
      - user: "Yes, one internship"
        assertions:
          - slot_was_set:
              - name: has_internship
                value: true
          - action_executed: "action_give_career_advice"
          - flow_started: "followup_advice_flow"
          - bot_uttered:
              utter_name: "utter_ask_followup_question"

  # Freshman Without Internship Experience
  - test_case: freshman_no_internship
    steps:
      - user: "Can you help me with career planning?"
        assertions:
          - flow_started: "career_advice"
          - bot_uttered:
              utter_name: "utter_ask_student_name"
      
      - user: "I'm Lisa Martinez, a freshman studying Business Administration"
        assertions:
          - slot_was_set:
              - name: student_name
                value: "Lisa Martinez"
              - name: year_of_study
                value: "freshman"
              - name: current_major
                value: "Business Administration"
          - bot_uttered:
              utter_name: "utter_ask_career_interest"
      
      - user: "I'm interested in entrepreneurship and startups"
        assertions:
          - slot_was_set:
              - name: career_interest
                value: "entrepreneurship and startups"
          - bot_uttered:
              utter_name: "utter_ask_gpa"
      
      - user: "3.8"
        assertions:
          - slot_was_set:
              - name: gpa
                value: "3.8"
          - bot_uttered:
              utter_name: "utter_ask_has_internship"
      
      - user: "No, I haven't had any internships yet"
        assertions:
          - slot_was_set:
              - name: has_internship
                value: false
          - action_executed: "action_give_career_advice"
          - flow_started: "followup_advice_flow"
          - bot_uttered:
              utter_name: "utter_ask_followup_question"
      
      - user: "How can I get my first internship?"
        assertions:
          - slot_was_set:
              - name: followup_question
                value: "How can I get my first internship?"
          - action_executed: "action_followup_career_advice"
          - flow_completed:
              flow_id: "followup_advice_flow"
          - bot_uttered:
              utter_name: "utter_ask_more_questions"
      
      - user: "No more questions"
        assertions:
          - slot_was_set:
              - name: more_questions
                value: false
          - flow_completed:
              flow_id: "career_advice"
          - flow_started: "goodbye_flow"

  # Senior Planning Graduation
  - test_case: senior_graduation_planning
    steps:
      - user: "I'm graduating soon and need advice"
        assertions:
          - flow_started: "career_advice"
          - bot_uttered:
              utter_name: "utter_ask_student_name"
      
      - user: "Robert Lee, senior, Economics, interested in financial analysis, 3.6 GPA, three internships"
        assertions:
          - slot_was_set:
              - name: student_name
                value: "Robert Lee"
              - name: year_of_study
                value: "senior"
              - name: current_major
                value: "Economics"
              - name: career_interest
                value: "financial analysis"
              - name: gpa
                value: "3.6"
              - name: has_internship
                value: true
          - action_executed: "action_give_career_advice"
          - flow_started: "followup_advice_flow"
          - bot_uttered:
              utter_name: "utter_ask_followup_question"
      
      - user: "Should I pursue a master's degree or start working?"
        assertions:
          - slot_was_set:
              - name: followup_question
                value: "Should I pursue a master's degree or start working?"
          - action_executed: "action_followup_career_advice"
          - flow_completed:
              flow_id: "followup_advice_flow"
          - bot_uttered:
              utter_name: "utter_ask_more_questions"
      
      - user: "Yes, another question"
        assertions:
          - slot_was_set:
              - name: more_questions
                value: true
          - flow_started: "followup_advice_flow"
          - bot_uttered:
              utter_name: "utter_ask_followup_question"
      
      - user: "What certifications would help my career?"
        assertions:
          - slot_was_set:
              - name: followup_question
                value: "What certifications would help my career?"
          - action_executed: "action_followup_career_advice"
          - flow_completed:
              flow_id: "followup_advice_flow"
          - bot_uttered:
              utter_name: "utter_ask_more_questions"
      
      -