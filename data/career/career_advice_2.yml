# flows:
#   career_advice:
#     name: Career Advising Session
#     description: >
#       Guide students through a friendly, personalized career counseling session.
#       Support natural corrections, follow-ups, and conversation endings.
    
    
#     persisted_slots:
#       - student_name
#       - current_major
#       - year_of_study
#       - career_interest
#       - gpa
#       - has_internship
#       - visa_status
#       # - last_career_summary 
#       # - advice_history  
#       # # - user_wants_to_end

#     steps:
#      # Optional: Name
#       - collect: student_name
#         description: "Collect the student's name (optional)"
#         ask_before_filling: false
#         utter: utter_ask_student_name

#       # Essential: Major
#       - collect: current_major
#         description: "Collect the student's current major"
#         ask_before_filling: false
#         utter: utter_ask_current_major

#       # Optional: Year
#       - collect: year_of_study
#         description: "Determine student's year (optional)"
#         ask_before_filling: false
#         utter: utter_ask_year_of_study

#       # Essential: Career Interest
#       - collect: career_interest
#         description: "Understand career interests"
#         ask_before_filling: false
#         utter: utter_ask_career_interest

#       # Optional: GPA (with explicit skip option)
#       - collect: gpa
#         description: "Optionally collect GPA"
#         ask_before_filling: false
#         utter: utter_ask_gpa

#       # Optional: Internship
#       - collect: has_internship
#         description: "Ask about internship experience (optional)"
#         ask_before_filling: false
#         utter: utter_ask_has_internship

#       # Optional: Visa Status (only if relevant)
#       - collect: visa_status
#         description: "Ask about visa status for international students (optional)"
#         ask_before_filling: false
#         utter: utter_ask_visa_status

#   # CORRECTION 1:
#       # Give initial advice ONCE
#       - action: action_give_career_advice
#         next: await_followup  # ← Explicit next step

#       # Wait for follow-up (this is where the loop should start)
#       - id: await_followup
#         action: utter_advice_given_awaiting_response
#         next: END  # ← End the flow here

#   # Separate flow for follow-up questions
#   career_followup:
#     name: Career Advice Follow-up
#     description: >
#       Handle follow-up questions after initial career advice.
#       This flow is triggered when the user asks additional questions.
    
#     steps:
#       - action: action_give_career_advice
#         next: END  # ← End after giving advice

#   # CORRECTION 2: Problmematic old flow, kept for reference
#       # # Give initial advice
#       # - action: action_give_career_advice

#       # # Send awaiting message
#       # - id: advice_given_awaiting_response
#       #   action: utter_advice_given_awaiting_response
#       #   next: conversation_loop
      
#       # # # WAIT FOR USER INPUT HERE
#       # # - id: wait_for_followup
#       # #   collect: user_followup_input
#       # #   description: "Wait for user's follow-up question or indication they're done"
#       # #   ask_before_filling: true  # Don't ask again, just wait
#       # #   next:
#       # #     - if: slots.user_wants_to_end
#       # #       then:
#       # #         - action: utter_goodbye_counselor
#       # #           next: END
#       # #     - else: handle_followup

#       # # - id: handle_followup
#       # #   action: action_give_career_advice
#       # #   next: wait_for_followup  # Loop back to wait for next input

#       # # Natural conversation loop
#       # - id: conversation_loop
#       #   # action: utter_advice_given_awaiting_response
#       #   action: action_listen
#       #   next:
#       #     - if: slots.user_wants_to_end
#       #       then:
#       #         - action: utter_goodbye_counselor
#       #           next: END
#       #     - else: handle_followup

#       # - id: handle_followup
#       #   action: action_give_career_advice
#       #   next: conversation_loop
#       #   # next: advice_given_awaiting_response

# # SECOND FLWOW FOR QUICK ADVICE
#  # Optional: Quick advice flow for impatient users
#   quick_career_advice:
#     name: Quick Career Advice
#     description: >
#       Provide immediate guidance with minimal questions for users who want quick help.
    
#     steps:
#       - collect: career_interest
#         description: "What career topic do you need advice on?"
#         ask_before_filling: false
#         utter: utter_ask_career_interest_quick
      
#       - action: action_give_career_advice
      
#       # - collect: want_detailed_session
#       #   description: "Ask if they want a more detailed session"
#       #   utter: utter_offer_detailed_session
#       #   next:
#       #     - if: slots.want_detailed_session
#       #       then:
#       #         - link: career_advice  # Jump to full flow
#       #     - else:
#       #         - link: goodbye_flow

#       - id: quick_followup_loop
#         action: utter_advice_given_awaiting_response
#         next: quick_wait_for_followup
      
#       # Problematic loop, kept for reference
#       - id: quick_wait_for_followup
#         action: action_listen # this causes infinite loop
#         next:
#           - if: slots.user_wants_to_end
#             then:
#               - action: utter_goodbye_counselor
#                 next: END
#           - else: quick_continue

#       - id: quick_continue
#         action: action_give_career_advice
#         next: quick_wait_for_followup
#         # next: quick_followup_loop

