flows:
  career_advice:
    name: Career Advising Session
    description: >
      Friendly career-counseling session for students seeking advice about their future.
      Triggered by phrases like "career advice", "future plans", "what should I do after graduation".

    steps:
      - collect: student_name
        description: "The student's full name."
        utter: utter_ask_student_name

      - action: utter_greet_counselor

      - collect: current_major
        description: "The student's current major or field of study."
        utter: utter_ask_current_major

      - collect: year_of_study
        description: "Year of study: freshman, sophomore, junior, or senior."
        utter: utter_ask_year_of_study
        rejections:
          - if: slots.year_of_study not in ["freshman", "sophomore", "junior", "senior"]
            utter: utter_invalid_year

      - collect: career_interest
        description: "Area or field the student is interested in pursuing."
        utter: utter_ask_career_interest

      - collect: gpa
        description: "The student's GPA if they want to share."
        utter: utter_ask_gpa

      - collect: has_internship
        description: "Whether the student has any internship experience."
        utter: utter_ask_has_internship

      - action: action_give_career_advice

      - action: utter_encourage_human

      - action: utter_cite_sources

      - collect: more_questions
        description: "Does the user want to continue? Accepts 'no', 'goodbye', or a new question."
        ask_before_filling: true
        utter: utter_ask_more_questions
        next:
          - if: slots.more_questions in ["no", "goodbye", "none"]
            then: end_session
          - else: more_questions

      - id: end_session
        action: utter_goodbye_counselor